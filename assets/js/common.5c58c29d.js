"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[2076],{1523:(e,t,a)=>{a.d(t,{A:()=>p});var n=a(6540),s=a(7710);const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const o=new Uint8Array(16);const c=[];for(let x=0;x<256;++x)c.push((x+256).toString(16).slice(1));function l(e,t=0){return(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()}function d(e,t,a){const n=(e=e||{}).random??e.rng?.()??function(){if(!i){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i=crypto.getRandomValues.bind(crypto)}return i(o)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((a=a||0)<0||a+16>t.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[a+e]=n[e];return t}return l(n)}const h=function(e,t,a){return!r.randomUUID||t||e?d(e,t,a):r.randomUUID()};var u={};!function e(t,a,n,s){var r=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i="function"==typeof Path2D&&"function"==typeof DOMMatrix,o=function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),a=e.getContext("2d");a.fillRect(0,0,1,1);var n=e.transferToImageBitmap();a.createPattern(n,"no-repeat")}catch(s){return!1}return!0}();function c(){}function l(e){var n=a.exports.Promise,s=void 0!==n?n:t.Promise;return"function"==typeof s?new s(e):(e(c,c),null)}var d,h,u,m,f,p,x,g,b,v,y,w=(d=o,h=new Map,{transform:function(e){if(d)return e;if(h.has(e))return h.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),h.set(e,t),t},clear:function(){h.clear()}}),M=(f=Math.floor(1e3/60),p={},x=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(u=function(e){var t=Math.random();return p[t]=requestAnimationFrame(function a(n){x===n||x+f-1<n?(x=n,delete p[t],e()):p[t]=requestAnimationFrame(a)}),t},m=function(e){p[e]&&cancelAnimationFrame(p[e])}):(u=function(e){return setTimeout(e,f)},m=function(e){return clearTimeout(e)}),{frame:u,cancel:m}),j=(v={},function(){if(g)return g;if(!n&&r){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{g=new Worker(URL.createObjectURL(new Blob([t])))}catch(a){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",a),null}!function(e){function t(t,a){e.postMessage({options:t||{},callback:a})}e.init=function(t){var a=t.transferControlToOffscreen();e.postMessage({canvas:a},[a])},e.fire=function(a,n,s){if(b)return t(a,null),b;var r=Math.random().toString(36).slice(2);return b=l(function(n){function i(t){t.data.callback===r&&(delete v[r],e.removeEventListener("message",i),b=null,w.clear(),s(),n())}e.addEventListener("message",i),t(a,r),v[r]=i.bind(null,{data:{callback:r}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),v)v[t](),delete v[t]}}(g)}return g}),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function k(e,t,a){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:N[t],a)}function C(e){return e<0?0:Math.floor(e)}function I(e,t){return Math.floor(Math.random()*(t-e))+e}function S(e){return parseInt(e,16)}function E(e){return e.map(P)}function P(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:S(t.substring(0,2)),g:S(t.substring(2,4)),b:S(t.substring(4,6))}}function T(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function A(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function F(e){var t=e.angle*(Math.PI/180),a=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*a-Math.random()*a),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function D(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var a=t.tick++/t.totalTicks,n=t.x+t.random*t.tiltCos,s=t.y+t.random*t.tiltSin,r=t.wobbleX+t.random*t.tiltCos,o=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-a)+")",e.beginPath(),i&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,a,n,s,r,i){var o=new Path2D(e),c=new Path2D;c.addPath(o,new DOMMatrix(t));var l=new Path2D;return l.addPath(c,new DOMMatrix([Math.cos(i)*s,Math.sin(i)*s,-Math.sin(i)*r,Math.cos(i)*r,a,n])),l}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(r-n),.1*Math.abs(o-s),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var c=Math.PI/10*t.wobble,l=.1*Math.abs(r-n),d=.1*Math.abs(o-s),h=t.shape.bitmap.width*t.scalar,u=t.shape.bitmap.height*t.scalar,m=new DOMMatrix([Math.cos(c)*l,Math.sin(c)*l,-Math.sin(c)*d,Math.cos(c)*d,t.x,t.y]);m.multiplySelf(new DOMMatrix(t.shape.matrix));var f=e.createPattern(w.transform(t.shape.bitmap),"no-repeat");f.setTransform(m),e.globalAlpha=1-a,e.fillStyle=f,e.fillRect(t.x-h/2,t.y-u/2,h,u),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(r-n)*t.ovalScalar,Math.abs(o-s)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,a,n,s,r,i,o,c){e.save(),e.translate(t,a),e.rotate(r),e.scale(n,s),e.arc(0,0,1,i,o,c),e.restore()}(e,t.x,t.y,Math.abs(r-n)*t.ovalScalar,Math.abs(o-s)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var p=Math.PI/2*3,x=4*t.scalar,g=8*t.scalar,b=t.x,v=t.y,y=5,M=Math.PI/y;y--;)b=t.x+Math.cos(p)*g,v=t.y+Math.sin(p)*g,e.lineTo(b,v),p+=M,b=t.x+Math.cos(p)*x,v=t.y+Math.sin(p)*x,e.lineTo(b,v),p+=M;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(s)),e.lineTo(Math.floor(r),Math.floor(o)),e.lineTo(Math.floor(n),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function R(e,a){var i,o=!e,c=!!k(a||{},"resize"),d=!1,h=k(a,"disableForReducedMotion",Boolean),u=r&&!!k(a||{},"useWorker")?j():null,m=o?T:A,f=!(!e||!u)&&!!e.__confetti_initialized,p="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function x(t,a,r){for(var o=k(t,"particleCount",C),c=k(t,"angle",Number),d=k(t,"spread",Number),h=k(t,"startVelocity",Number),u=k(t,"decay",Number),f=k(t,"gravity",Number),p=k(t,"drift",Number),x=k(t,"colors",E),g=k(t,"ticks",Number),b=k(t,"shapes"),v=k(t,"scalar"),y=!!k(t,"flat"),j=function(e){var t=k(e,"origin",Object);return t.x=k(t,"x",Number),t.y=k(t,"y",Number),t}(t),N=o,S=[],P=e.width*j.x,T=e.height*j.y;N--;)S.push(F({x:P,y:T,angle:c,spread:d,startVelocity:h,color:x[N%x.length],shape:b[I(0,b.length)],ticks:g,decay:u,gravity:f,drift:p,scalar:v,flat:y}));return i?i.addFettis(S):(i=function(e,t,a,r,i){var o,c,d=t.slice(),h=e.getContext("2d"),u=l(function(t){function l(){o=c=null,h.clearRect(0,0,r.width,r.height),w.clear(),i(),t()}o=M.frame(function t(){!n||r.width===s.width&&r.height===s.height||(r.width=e.width=s.width,r.height=e.height=s.height),r.width||r.height||(a(e),r.width=e.width,r.height=e.height),h.clearRect(0,0,r.width,r.height),(d=d.filter(function(e){return D(h,e)})).length?o=M.frame(t):l()}),c=l});return{addFettis:function(e){return d=d.concat(e),u},canvas:e,promise:u,reset:function(){o&&M.cancel(o),c&&c()}}}(e,S,m,a,r),i.promise)}function g(a){var n=h||k(a,"disableForReducedMotion",Boolean),s=k(a,"zIndex",Number);if(n&&p)return l(function(e){e()});o&&i?e=i.canvas:o&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(s),document.body.appendChild(e)),c&&!f&&m(e);var r={width:e.width,height:e.height};function g(){if(u){var t={getBoundingClientRect:function(){if(!o)return e.getBoundingClientRect()}};return m(t),void u.postMessage({resize:{width:t.width,height:t.height}})}r.width=r.height=null}function b(){i=null,c&&(d=!1,t.removeEventListener("resize",g)),o&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,f=!1)}return u&&!f&&u.init(e),f=!0,u&&(e.__confetti_initialized=!0),c&&!d&&(d=!0,t.addEventListener("resize",g,!1)),u?u.fire(a,r,b):x(a,r,b)}return g.reset=function(){u&&u.reset(),i&&i.reset()},g}function O(){return y||(y=R(null,{useWorker:!0,resize:!0})),y}a.exports=function(){return O().apply(this,arguments)},a.exports.reset=function(){O().reset()},a.exports.create=R,a.exports.shapeFromPath=function(e){if(!i)throw new Error("path confetti are not supported in this browser");var t,a;"string"==typeof e?t=e:(t=e.path,a=e.matrix);var n=new Path2D(t),s=document.createElement("canvas").getContext("2d");if(!a){for(var r,o,c=1e3,l=c,d=c,h=0,u=0,m=0;m<c;m+=2)for(var f=0;f<c;f+=2)s.isPointInPath(n,m,f,"nonzero")&&(l=Math.min(l,m),d=Math.min(d,f),h=Math.max(h,m),u=Math.max(u,f));r=h-l,o=u-d;var p=Math.min(10/r,10/o);a=[p,0,0,p,-Math.round(r/2+l)*p,-Math.round(o/2+d)*p]}return{type:"path",path:t,matrix:a}},a.exports.shapeFromText=function(e){var t,a=1,n="#000000",s='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,a="scalar"in e?e.scalar:a,s="fontFamily"in e?e.fontFamily:s,n="color"in e?e.color:n);var r=10*a,i=r+"px "+s,o=new OffscreenCanvas(r,r),c=o.getContext("2d");c.font=i;var l=c.measureText(t),d=Math.ceil(l.actualBoundingBoxRight+l.actualBoundingBoxLeft),h=Math.ceil(l.actualBoundingBoxAscent+l.actualBoundingBoxDescent),u=l.actualBoundingBoxLeft+2,m=l.actualBoundingBoxAscent+2;d+=4,h+=4,(c=(o=new OffscreenCanvas(d,h)).getContext("2d")).font=i,c.fillStyle=n,c.fillText(t,u,m);var f=1/a;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[f,0,0,f,-d*f/2,-h*f/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),u,!1);const m=u.exports;u.exports.create;var f=a(4848);const p=({navbarMode:e=!1})=>{const[t,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)([]),[o,c]=(0,n.useState)(""),[l,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(""),[x,g]=(0,n.useState)(null),[b,v]=(0,n.useState)(!0),{colorMode:y}=(0,s.G)(),w=(0,n.useRef)(null);(0,n.useEffect)(()=>{(async()=>{try{const e="http://localhost:8000";(await fetch(`${e}/health`)).ok||g("Backend server is not running. Please start the backend server to use the chatbot.")}catch(x){g("Backend server is not running. Please start the backend server to use the chatbot.")}})()},[]),(0,n.useEffect)(()=>{const e=()=>{const e=window.getSelection()?.toString().trim();e&&e.length>10&&p(e)};return document.addEventListener("mouseup",e),document.addEventListener("keyup",e),()=>{document.removeEventListener("mouseup",e),document.removeEventListener("keyup",e)}},[]),(0,n.useEffect)(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[r]),(0,n.useEffect)(()=>{const e=()=>{a(!0)};return document.addEventListener("openMainChat",e),()=>{document.removeEventListener("openMainChat",e)}},[]);const M=()=>{a(!t)},j=async()=>{if(!o.trim()||l)return;const e={id:Date.now().toString(),role:"user",content:o,timestamp:new Date};i(t=>[...t,e]),c(""),d(!0),g(null);try{const e="http://localhost:8000",a=await fetch(`${e}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:o,selected_text:u||null,conversation_id:N()})});if(!a.ok)throw new Error(`Chat API error: ${a.status} ${a.statusText}`);const n=Date.now().toString(),s={id:n,role:"assistant",content:"",timestamp:new Date};i(e=>[...e,s]);const r=a.headers.get("content-type");if(r&&r.includes("application/json")){const e=await a.json();i(t=>t.map(t=>t.id===n?{...t,content:e.answer||e.response||"I processed your request successfully."}:t))}else{const e=a.body?.getReader();if(e){let a="";for(;;){const{done:t,value:n}=await e.read();if(t)break;const s=(new TextDecoder).decode(n);a+=s}e.releaseLock();try{const e=JSON.parse(a),t=e.answer||e.response||a;i(e=>e.map(e=>e.id===n?{...e,content:t}:e))}catch(t){i(e=>e.map(e=>e.id===n?{...e,content:a}:e))}}else{const e=await a.text();i(t=>t.map(t=>t.id===n?{...t,content:e}:t))}}b&&(m({particleCount:150,spread:70,origin:{y:.6},colors:["#10B981","#F97316","#FBBF24","#8B5CF6"],shapes:["circle","square"]}),v(!1))}catch(x){console.error("Error sending message:",x);const t=x.message||"Failed to connect to the chat service";g(`Failed to connect to the chat service: ${t}`),i(e=>{const a=e[e.length-1];return a&&"assistant"===a.role?[...e.slice(0,-1),{...a,content:`I'm having trouble connecting to the knowledge base. Error: ${t}\n\nTo use the chatbot, please:\n\n1. Make sure you have Python installed\n2. Navigate to the backend directory: \`cd backend\`\n3. Install dependencies: \`pip install -r requirements.txt\`\n4. Start the backend: \`python -m uvicorn app.main:app --host 0.0.0.0 --port 8000\`\n\nThe chatbot will connect to \`http://localhost:8000\` by default.`}]:[...e,{id:Date.now().toString(),role:"assistant",content:`I'm having trouble connecting to the knowledge base. Error: ${t}\n\nTo use the chatbot, please:\n\n1. Make sure you have Python installed\n2. Navigate to the backend directory: \`cd backend\`\n3. Install dependencies: \`pip install -r requirements.txt\`\n4. Start the backend: \`python -m uvicorn app.main:app --host 0.0.0.0 --port 8000\`\n\nThe chatbot will connect to \`http://localhost:8000\` by default.`,timestamp:new Date}]})}finally{d(!1),p("")}},N=()=>{let e=localStorage.getItem("bookChatConversationId");return e||(e=h(),localStorage.setItem("bookChatConversationId",e)),e},k=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),j())},C=()=>{i([]),g(null),v(!0)};return(0,f.jsx)(f.Fragment,{children:e?(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("button",{onClick:M,className:"chat-button","aria-label":"Open chat",title:"Physical AI Assistant",children:"\ud83e\udd16"}),t&&(0,f.jsxs)("div",{className:"chat-modal",children:[(0,f.jsxs)("div",{className:"chat-header",children:[(0,f.jsxs)("div",{className:"chat-header-left",children:[(0,f.jsx)("div",{className:"chat-header-icon",children:"\ud83e\udd16"}),(0,f.jsx)("div",{className:"chat-header-title",children:"Physical AI Assistant"})]}),(0,f.jsx)("div",{className:"chat-header-right",children:(0,f.jsx)("button",{onClick:C,className:"chat-header-button",title:"New Chat",children:"\u2715"})})]}),(0,f.jsxs)("div",{className:"chat-messages",children:[x&&(0,f.jsx)("div",{className:"p-3 rounded-lg mb-4 bg-red-100 border border-red-200 text-red-800",children:(0,f.jsxs)("div",{className:"flex items-start",children:[(0,f.jsx)("div",{className:"mr-2",children:"\u26a0\ufe0f"}),(0,f.jsx)("div",{className:"text-sm",children:x})]})}),0===r.length?(0,f.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,f.jsx)("div",{className:"flex justify-center mb-4",children:(0,f.jsx)("div",{className:"text-4xl",children:"\ud83e\udd16"})}),(0,f.jsx)("p",{className:"font-medium",children:"Ask me anything about the book!"}),u&&(0,f.jsxs)("div",{className:"text-xs mt-3 p-3 rounded-lg bg-blue-100 border border-blue-200",children:[(0,f.jsx)("p",{className:"font-medium mb-1 text-blue-800",children:"Selected text:"}),(0,f.jsxs)("p",{className:"italic",children:[u.substring(0,150),u.length>150?"...":""]})]}),(0,f.jsx)("p",{className:"text-xs mt-4 max-w-xs mx-auto",children:"I can help explain concepts, provide examples, and answer questions from the Physical AI and Humanoid Robotics book."})]}):(0,f.jsxs)(f.Fragment,{children:[r.map(e=>(0,f.jsxs)("div",{className:""+("user"===e.role?"message-user":"message-ai"),children:[(0,f.jsx)("div",{className:"whitespace-pre-wrap break-words",children:e.content}),(0,f.jsx)("div",{className:"text-xs mt-1 opacity-70",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},e.id)),l&&(0,f.jsxs)("div",{className:"typing-indicator",children:[(0,f.jsx)("span",{children:"Thinking"}),(0,f.jsx)("div",{className:"typing-dot"}),(0,f.jsx)("div",{className:"typing-dot"}),(0,f.jsx)("div",{className:"typing-dot"})]}),(0,f.jsx)("div",{ref:w})]})]}),(0,f.jsxs)("div",{className:"chat-input-area",children:[u&&(0,f.jsxs)("div",{className:"selected-text-chip",children:[(0,f.jsxs)("div",{className:"selected-text-chip-content",children:['Using: "',u.substring(0,50),u.length>50?"...":"",'"']}),(0,f.jsx)("button",{onClick:()=>p(""),className:"selected-text-chip-close",title:"Remove selection",children:"\xd7"})]}),(0,f.jsx)("div",{className:"flex flex-col space-y-2",children:(0,f.jsxs)("div",{className:"flex",children:[(0,f.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),onKeyPress:k,placeholder:u?"Ask about selected text...":"Ask about Physical AI or select text...",className:"chat-textarea",disabled:l,autoFocus:!0,rows:1}),(0,f.jsx)("button",{onClick:j,disabled:l||!o.trim(),className:"send-button",title:"Send message",children:"\u2192"})]})})]})]})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{onClick:M,className:"chat-button","aria-label":"Open chat",title:"Physical AI Assistant",children:"\ud83e\udd16"}),t&&(0,f.jsxs)("div",{className:"chat-modal",children:[(0,f.jsxs)("div",{className:"chat-header",children:[(0,f.jsxs)("div",{className:"chat-header-left",children:[(0,f.jsx)("div",{className:"chat-header-icon",children:"\ud83e\udd16"}),(0,f.jsx)("div",{className:"chat-header-title",children:"Physical AI Assistant"})]}),(0,f.jsx)("div",{className:"chat-header-right",children:(0,f.jsx)("button",{onClick:C,className:"chat-header-button",title:"New Chat",children:"\u2715"})})]}),(0,f.jsxs)("div",{className:"chat-messages",children:[x&&(0,f.jsx)("div",{className:"p-3 rounded-lg mb-4 bg-red-100 border border-red-200 text-red-800",children:(0,f.jsxs)("div",{className:"flex items-start",children:[(0,f.jsx)("div",{className:"mr-2",children:"\u26a0\ufe0f"}),(0,f.jsx)("div",{className:"text-sm",children:x})]})}),0===r.length?(0,f.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,f.jsx)("div",{className:"flex justify-center mb-4",children:(0,f.jsx)("div",{className:"text-4xl",children:"\ud83e\udd16"})}),(0,f.jsx)("p",{className:"font-medium",children:"Ask me anything about the book!"}),u&&(0,f.jsxs)("div",{className:"text-xs mt-3 p-3 rounded-lg bg-blue-100 border border-blue-200",children:[(0,f.jsx)("p",{className:"font-medium mb-1 text-blue-800",children:"Selected text:"}),(0,f.jsxs)("p",{className:"italic",children:[u.substring(0,150),u.length>150?"...":""]})]}),(0,f.jsx)("p",{className:"text-xs mt-4 max-w-xs mx-auto",children:"I can help explain concepts, provide examples, and answer questions from the Physical AI and Humanoid Robotics book."})]}):(0,f.jsxs)(f.Fragment,{children:[r.map(e=>(0,f.jsxs)("div",{className:""+("user"===e.role?"message-user":"message-ai"),children:[(0,f.jsx)("div",{className:"whitespace-pre-wrap break-words",children:e.content}),(0,f.jsx)("div",{className:"text-xs mt-1 opacity-70",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},e.id)),l&&(0,f.jsxs)("div",{className:"typing-indicator",children:[(0,f.jsx)("span",{children:"Thinking"}),(0,f.jsx)("div",{className:"typing-dot"}),(0,f.jsx)("div",{className:"typing-dot"}),(0,f.jsx)("div",{className:"typing-dot"})]}),(0,f.jsx)("div",{ref:w})]})]}),(0,f.jsxs)("div",{className:"chat-input-area",children:[u&&(0,f.jsxs)("div",{className:"selected-text-chip",children:[(0,f.jsxs)("div",{className:"selected-text-chip-content",children:['Using: "',u.substring(0,50),u.length>50?"...":"",'"']}),(0,f.jsx)("button",{onClick:()=>p(""),className:"selected-text-chip-close",title:"Remove selection",children:"\xd7"})]}),(0,f.jsx)("div",{className:"flex flex-col space-y-2",children:(0,f.jsxs)("div",{className:"flex",children:[(0,f.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),onKeyPress:k,placeholder:u?"Ask about selected text...":"Ask about Physical AI or select text...",className:"chat-textarea",disabled:l,autoFocus:!0,rows:1}),(0,f.jsx)("button",{onClick:j,disabled:l||!o.trim(),className:"send-button",title:"Send message",children:"\u2192"})]})})]})]})]})})}},8453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>o});var n=a(6540);const s={},r=n.createContext(s);function i(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);